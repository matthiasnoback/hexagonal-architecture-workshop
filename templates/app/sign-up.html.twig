{% extends "@layout/default.html.twig" %}

{% block title %}Sign up{% endblock %}

{% block content %}
    <h1>Sign up</h1>

    <form method="post" action="{{ path('sign_up') }}">
        <div class="form-group{% if formErrors["name"] is defined %} has-error{% endif %}">
            <label for="name">Your name:</label>
            <input class="form-control{% if formErrors["name"] is defined %} is-invalid{% endif %}" id="name" name="name" type="text"
                   value="{{ formData["name"] }}"/>
            {% for error in formErrors["name"]|default({}) %}
                <div class="invalid-feedback">{{ error }}</div>
            {% endfor %}
        </div>
        <div class="form-group{% if formErrors["emailAddress"] is defined %} has-error{% endif %}">
            <label for="emailAddress">Your email address:</label>
            <input class="form-control{% if formErrors["emailAddress"] is defined %} is-invalid{% endif %}" id="emailAddress" name="emailAddress" type="email"
                   value="{{ formData["emailAddress"] }}"/>
            {% for error in formErrors["emailAddress"]|default({}) %}
                <div class="invalid-feedback">{{ error }}</div>
            {% endfor %}
        </div>
        <div class="form-group{% if formErrors["type"] is defined %} has-error{% endif %}">
            <label for="userType">User type:</label>
            <select name="userType" id="userType" class="form-control{% if formErrors["userType"] is defined %} is-invalid{% endif %}">
                {% for userType in userTypes %}
                    <option value="{{ userType.name }}"{% if formData["userType"] == userType.name %} selected{% endif %}>{{ userType.label }}</option>
                {% endfor %}
            </select>
            {% for error in formErrors["userType"]|default({}) %}
                <div class="invalid-feedback">{{ error }}</div>
            {% endfor %}
        </div>

        <button type="submit" class="btn btn-primary">Sign up</button>
    </form>
{% endblock %}
